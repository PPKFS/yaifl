{
    "$schema": "https://lnav.org/schemas/format-v1.schema.json",
    "yaifl_log": {
        "title": "YAIFL log format",
        "description": "Logger format as created by Yaifl",
        "json": true,
        "hide-extra": false,
        "convert-to-local-time": true,
        "line-format": [
            " ",
            {
                "field": "loc"
            },
            " ",
            {
                "field": "ns"
            },
            " [",
            {
              "field": "level",
              "text-transform": "uppercase"
            },            
            "]: ",
            {
              "field": "message"
            },
            " ",
            {
                "field": "data",
                "default-value": ""
            }
        ],        
        "level-field": "level",
        "level": {
            "fatal": "Emergency|Alert",
            "critical": "Critical",
            "error": "Error",
            "warning": "Warning",
            "stats": "Stats",
            "info": "Info",
            "debug": "Debug"
        },
        "body-field": "message",
        "value": {
            "loc": {
                "kind": "string",
                "identifier": true
            },
            "context" : {
              "kind" : "json",
              "identifier" : true
            },
            "ns": {
                "kind": "string",
                "identifier" : true
            },
            "data": {
                "kind": "json",
                "identifier" : true
            },
            "message": {
                "kind": "string"
            },
            "timestamp": {
                "kind": "string",
                "identifier": true,
                "hidden": true
            },
            "indent": {
                "hidden": true,
                "kind": "integer",
                "rewriter" : ";SELECT replicate('\t', :indent)"
            }
        }
    }
}